<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record id="paperformat_drag_n_drop" model="report.paperformat">
        <field name="name">Custom Paperformat for Drag n Drop</field>
        <field name="default" eval="True"/>
        <field name="format">A4</field>
        <field name="page_height">0</field>
        <field name="page_width">0</field>
        <field name="orientation">Portrait</field>
        <field name="margin_top">10</field>
        <field name="margin_bottom">10</field>
        <field name="margin_left">0</field>
        <field name="margin_right">0</field>
        <field name="header_line" eval="False" />
        <field name="header_spacing">0</field>
        <field name="dpi">96</field>
    </record>

    <record id="action_report_drag_n_drop" model="ir.actions.report">
        <field name="name">Printout Drag n Drop</field>
        <field name="model">sale.order</field>
        <field name="report_type">qweb-pdf</field>
        <field name="report_name">create_report_pdf_from_ui.report_drag_n_drop</field>
        <field name="report_file">create_report_pdf_from_ui.report_drag_n_drop</field>
        <field name="print_report_name">'%s' % object.name</field>
        <field name="binding_model_id" ref="sale.model_sale_order"/>
        <field name="paperformat_id" ref="create_report_pdf_from_ui.paperformat_drag_n_drop"/>
        <field name="binding_type">report</field>
    </record>

    <template id="report_drag_n_drop">
        <t t-set="doc" t-value="0"/>
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <t t-set="doc" t-value="doc + 1"/>
                <t t-if="doc > 1">
                    <p style="page-break-after: always;"></p>
                </t>
                <div class="page">
                    <style>
                        * {
                            padding: 0;
                            margin: 0;
                            box-sizing: border-box;
                        }
                        table {
                            border-collapse: collapse;
                        }
                        .table__content {
                            width: 100%;
                        }
                    </style>
                    <table style="border-collapse: collapse; width: 100%;" border="1">
                        <tbody>
                            <tr>
                                <td style="width: 10%;">CODE</td>
                                <td style="width: 60%;">PRODUCT</td>
                                <td style="width: 30%;">QUANTITY</td>
                            </tr>
                        </tbody>
                    </table>
                    <t t-set="total_line" t-value="100"/>
                    <t t-set="no" t-value="0"/>
                    <t t-foreach="total_line" t-as="line">
                        <t t-set="no" t-value="no + 1"/>
                        <table style="border-collapse: collapse; width: 100%;" border="1">
                            <tbody>
                                <tr>
                                    <td style="width: 10%;"><span t-esc="no"/></td>
                                    <td style="width: 60%;">PRODUCT</td>
                                    <td style="width: 30%;">QUANTITY</td>
                                </tr>
                            </tbody>
                        </table>
                    </t>
                </div>
                <div class="footer" style="position:absolute; margin:0px; padding:0px">
                    Page <span class="page"/> of <span class="topage"/>
                </div> 
            </t>
        </t>
    </template>

</odoo>
