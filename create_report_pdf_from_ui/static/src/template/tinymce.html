<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Editor - {{ title }}</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@300;400;700&display=swap" rel="stylesheet">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'/>
    <!-- <script src="https://code.jquery.com/jquery-3.6.3.min.js" integrity="sha256-pvPw+upLPUjgMXY0G+8O0xUf+/Im1MZjXxxgOcBQBXU=" crossorigin="anonymous"></script> -->
    <script src="https://kit.fontawesome.com/69f952805c.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" type="text/css" href="/create_report_pdf_from_ui/static/src/template/tinymce.css"/>
    <script type="text/javascript" src="/create_report_pdf_from_ui/static/src/template/tinymce/js/tinymce/tinymce.min.js"></script>
    <script type="text/javascript">
        tinymce.init({
            selector: '.editor',
            icon: 'small',
            menubar: false,
            inline: true,
            plugins: 'emoticons charmap table lists advlist image editimage link searchreplace preview code',
            toolbar: false,
            // quickbars_insert_toolbar: 'quicktable image bullist numlist',
            // quickbars_selection_toolbar: 'fontsize lineheight | forecolor backcolor | alignleft aligncenter alignright alignjustify',
            quickbars_image_toolbar: 'alignleft aligncenter alignright | rotateleft rotateright',
            indentation: '20pt',
            indent_use_margin: true,
            color_map: [
                '#BFEDD2', 'Light Green',
                '#FBEEB8', 'Light Yellow',
                '#F8CAC6', 'Light Red',
                '#ECCAFA', 'Light Purple',
                '#C2E0F4', 'Light Blue',

                '#2DC26B', 'Green',
                '#F1C40F', 'Yellow',
                '#E03E2D', 'Red',
                '#B96AD9', 'Purple',
                '#3598DB', 'Blue',

                '#169179', 'Dark Turquoise',
                '#E67E23', 'Orange',
                '#BA372A', 'Dark Red',
                '#843FA1', 'Dark Purple',
                '#236FA1', 'Dark Blue',

                '#ECF0F1', 'Light Gray',
                '#CED4D9', 'Medium Gray',
                '#95A5A6', 'Gray',
                '#7E8C8D', 'Dark Gray',
                '#34495E', 'Navy Blue',

                '#000000', 'Black',
                '#ffffff', 'White'
            ],
            line_height_formats: '1 1.2 1.4 1.6 2',
            link_context_toolbar: true,
            format_empty_lines: true,
            image_title: true,
            automatic_uploads: true,
            file_picker_types: 'image',
            file_picker_callback: (cb, value, meta) => {
                const input = document.createElement('input');
                input.setAttribute('type', 'file');
                input.setAttribute('accept', 'image/*');

                input.addEventListener('change', (e) => {
                    const file = e.target.files[0];
                    const reader = new FileReader();
                    reader.addEventListener('load', () => {
                        const id = 'blobid' + (new Date()).getTime();
                        const blobCache =  tinymce.activeEditor.editorUpload.blobCache;
                        const base64 = reader.result.split(',')[1];
                        const blobInfo = blobCache.create(id, file, base64);
                        blobCache.add(blobInfo);
                        cb(blobInfo.blobUri(), { title: file.name });
                    });
                    reader.readAsDataURL(file);
                });
                input.click();
            },
            paste_preprocess: function(plugin, args) {
                args.content = args.content.replace(/data-mce-style/gi, 'style');
            },
            fontsize_formats: '8px 10px 12px 16px 20px 36px',
            content_style: 'body { font-family: Arial, Helvetica, sans-serif; font-size: 16px; }'
        })
    </script>
</head>
<body style="overflow: hidden;">
    <div class="editor__container">
        <div class="toolbar__container">
            <div class="toolbar__upper">
                <div class="toolbar__tool">
                    <div class="save__wrapper">
                        <button id="btn_save" class="button__toggle button__save" title="Save Template"><span>Save</span> <i class="fa-solid fa-floppy-disk"></i></button>
                    </div>
                    <div class="undo__redo__wrapper">
                        <button class="button__toggle button__undo" title="Undo"><i class="fa-solid fa-reply"></i></button>
                        <button class="button__toggle button__undo" title="Redo"><i class="fa-solid fa-share"></i></button>
                    </div>
                    <div class="find__replace__wrapper">
                        <button id="findreplaceBTN" class="button__toggle button__find__replace" title="Find & Replace"><i class="fa-solid fa-magnifying-glass"></i></button>
                    </div>
                    <div class="break__wrapper">
                        <button class="button__toggle button__break" title="Page Break"><svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg></button>
                    </div>
                    <div class="image__wrapper">
                        <button id="imageBTN" class="button__toggle button__image" title="Insert Image"><i class="fa-regular fa-image"></i></button>
                    </div>
                    <div class="link__wrapper">
                        <button id="linkBTN" class="button__toggle button__link" title="Insert Link"><i class="fa-solid fa-link"></i></button>
                    </div>
                    <div class="table__wrapper">
                        <button id="tableBTN" class="button__toggle button__table" title="Insert Table"><i class="fa-solid fa-table"></i></button>
                    </div>
                    <div class="field__wrapper">
                        <button class="button__toggle button__field" title="Insert Field">
                            <i class="fa-solid fa-bug"></i> 
                            <i style="font-size: 12px; padding: 3px;" class="fa-solid fa-caret-down"></i>
                        </button>
                    </div>
                    <div class="setting__paper__wrapper">
                        <button id="papersettingsBTN" class="button__toggle button__setting__paper" title="Paper Settings"><i class="fa-regular fa-file"></i></button>
                    </div>
                    <div class="setting__paper__wrapper">
                        <button id="codeBTN" class="button__toggle button__code" title="HTML Code"><i class="fa-solid fa-code"></i></button>
                    </div>
                    <div class="faq__wrapper">
                        <button class="button__toggle button__faq" title="Help"><i class="fa-regular fa-circle-question"></i></button>
                    </div>
                </div>
            </div>
            <div class="toolbar__bottom">
                <div class="toolbar__typography">
                    <div class="typography selection__wrapper" title="Paragraph Style">
                        <input type="text" disabled class="toolbar__selection" style="width: 150px;" id="block__name"/>
                        <div class="selection__list__wrapper">
                            <button class="button__selection"><i class="fa-solid fa-caret-down"></i></button>
                            <ul class="selection__list" style="min-width: 180px;">
                                <li class="format__block__button selection__item" value="Paragraph"><p>Paragraph</p></li>
                                <li class="format__block__button selection__item" value="Heading 1"><h1>Heading 1</h1></li>
                                <li class="format__block__button selection__item" value="Heading 2"><h2>Heading 2</h2></li>
                                <li class="format__block__button selection__item" value="Heading 3"><h3>Heading 3</h3></li>
                                <li class="format__block__button selection__item" value="Heading 4"><h4>Heading 4</h4></li>
                                <li class="format__block__button selection__item" value="Heading 5"><h5>Heading 5</h5></li>
                                <li class="format__block__button selection__item" value="Heading 6"><h6>Heading 6</h6></li>
                            </ul>
                        </div>
                    </div>
                    <div class="typography selection__wrapper" title="Font Name">
                        <input type="text" disabled class="toolbar__selection" style="width: 150px;" id="font__name"/>
                        <div class="selection__list__wrapper">
                            <button class="button__selection"><i class="fa-solid fa-caret-down"></i></button>
                            <ul class="selection__list" style="min-width: 200px;">
                                <li class="format__name__button selection__item" value="Times New Roman">
                                    <p style="font-family: times new roman,times;">Times New Roman</p>
                                </li>
                                <li class="format__name__button selection__item" value="Andale Mono">
                                    <p style="font-family: andale mono, times;">Andale Mono</p>
                                </li>
                                <li class="format__name__button selection__item" value="Arial">
                                    <p style="font-family: Arial, Helvetica, sans-serif;">Arial</p>
                                </li>
                                <li class="format__name__button selection__item" value="Arial Black">
                                    <p style="font-family: arial black,avant garde;">Arial Black</p>
                                </li>
                                <li class="format__name__button selection__item" value="Book Antiqua">
                                    <p style="font-family: book antiqua,palatino;">Book Antiqua</p>
                                </li>
                                <li class="format__name__button selection__item" value="Verdana">
                                    <p style="font-family: verdana,geneva;">Verdana</p>
                                </li>
                                <li class="format__name__button selection__item" value="Courier New">
                                    <p style="font-family: courier new,courier;">Courier New</p>
                                </li>
                                <li class="format__name__button selection__item" value="Comic Sans MS">
                                    <p style="font-family: comic sans ms;">Comic Sans MS</p>
                                </li>
                                <li class="format__name__button selection__item" value="Georgia">
                                    <p style="font-family: georgia,palatino;">Georgia</p>
                                </li>
                                <li class="format__name__button selection__item" value="Helvetica">
                                    <p style="font-family: helvetica;">Helvetica</p>
                                </li>
                                <li class="format__name__button selection__item" value="Impact">
                                    <p style="font-family: impact,chicago;">Impact</p>
                                </li>
                                <li class="format__name__button selection__item" value="Symbol">
                                    <p style="font-family: symbol;">Symbol</p>
                                </li>
                                <li class="format__name__button selection__item" value="Impact">
                                    <p style="font-family: impact,chicago;">Impact</p>
                                </li>
                                <li class="format__name__button selection__item" value="Tahoma">
                                    <p style="font-family: tahoma,arial,helvetica,sans-serif;">Tahoma</p>
                                </li>
                                <li class="format__name__button selection__item" value="Terminal">
                                    <p style="font-family: terminal,monaco;">Terminal</p>
                                </li>
                                <li class="format__name__button selection__item" value="Trebuchet MS">
                                    <p style="font-family: trebuchet ms,geneva;">Trebuchet MS</p>
                                </li>
                                <li class="format__name__button selection__item" value="Webdings">
                                    <p style="font-family: webdings;">Webdings</p>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="typography selection__wrapper" title="Font Size">
                        <input type="text" class="toolbar__selection" style="width: 70px;" id="font__size"/>
                        <div class="selection__list__wrapper">
                            <button class="button__selection"><i class="fa-solid fa-caret-down"></i></button>
                            <ul class="selection__list" style="min-width: 100px;">
                                <li class="selection__item" value="6 pt"><p>6 pt</p></li>
                                <li class="selection__item" value="7 pt"><p>7 pt</p></li>
                                <li class="selection__item" value="8 pt"><p>8 pt</p></li>
                                <li class="selection__item" value="9 pt"><p>9 pt</p></li>
                                <li class="selection__item" value="10 pt"><p>10 pt</p></li>
                                <li class="selection__item" value="11 pt"><p>11 pt</p></li>
                                <li class="selection__item" value="12 pt"><p>12 pt</p></li>
                                <li class="selection__item" value="13 pt"><p>13 pt</p></li>
                                <li class="selection__item" value="14 pt"><p>14 pt</p></li>
                                <li class="selection__item" value="15 pt"><p>15 pt</p></li>
                                <li class="selection__item" value="16 pt"><p>16 pt</p></li>
                                <li class="selection__item" value="17 pt"><p>17 pt</p></li>
                                <li class="selection__item" value="18 pt"><p>18 pt</p></li>
                                <li class="selection__item" value="19 pt"><p>19 pt</p></li>
                                <li class="selection__item" value="20 pt"><p>20 pt</p></li>
                                <li class="selection__item" value="21 pt"><p>21 pt</p></li>
                                <li class="selection__item" value="22 pt"><p>22 pt</p></li>
                                <li class="selection__item" value="23 pt"><p>23 pt</p></li>
                                <li class="selection__item" value="24 pt"><p>24 pt</p></li>
                                <li class="selection__item" value="25 pt"><p>25 pt</p></li>
                                <li class="selection__item" value="26 pt"><p>26 pt</p></li>
                                <li class="selection__item" value="27 pt"><p>27 pt</p></li>
                                <li class="selection__item" value="28 pt"><p>28 pt</p></li>
                                <li class="selection__item" value="29 pt"><p>29 pt</p></li>
                                <li class="selection__item" value="20 pt"><p>20 pt</p></li>
                                <li class="selection__item" value="31 pt"><p>31 pt</p></li>
                                <li class="selection__item" value="32 pt"><p>32 pt</p></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="toolbar__sytles">
                    <div class="styles__wrapper">
                        <button id="boldBTN" class="button__toggle button__styles" title="Bold"><i class="fa-solid fa-bold"></i></button>
                        <button id="italicBTN" class="button__toggle button__styles" title="Italic"><i class="fa-solid fa-italic"></i></button>
                        <button id="underlineBTN" class="button__toggle button__styles" title="Underline"><i class="fa-solid fa-underline"></i></button>
                        <button id="strikethroughBTN" class="button__toggle button__styles" title="Strikethrough"><i class="fa-solid fa-strikethrough"></i></button>
                    </div>
                    <div class="subsup__wrapper">
                        <button id="superscriptBTN" class="button__toggle button__sup" title="Superscript"><i class="fa-solid fa-superscript"></i></button>
                        <button id="subscriptBTN" class="button__toggle button__sub" title="Subscript"><i class="fa-solid fa-subscript"></i></button>
                    </div>
                    <div class="clear__wrapper">
                        <button id="clearformatBTN" class="button__toggle button__clear" title="Clear Formating"><i class="fa-solid fa-eraser"></i></button>
                    </div>
                    <div class="align__wrapper">
                        <button id="alignleftBTN" class="button__toggle button__align" title="Align Left"><i class="fa-solid fa-align-left"></i></button>
                        <button id="aligncenterBTN" class="button__toggle button__align" title="Align Center"><i class="fa-solid fa-align-center"></i></button>
                        <button id="alignrightBTN" class="button__toggle button__align" title="Align Right"><i class="fa-solid fa-align-right"></i></button>
                        <button id="alignjustifyBTN" class="button__toggle button__align" title="Align Justify"><i class="fa-solid fa-align-justify"></i></button>
                    </div>
                </div>
            </div>
        </div>
        <div class="paper__container">
            <div id="papeWrapper" class="paper__wrapper">
                {{ report_layout }}
            </div>
        </div>
    </div>
    <script src="/create_report_pdf_from_ui/static/src/template/scripts.js"></script>
</body>
</html>

<!-- <div class="paper">
                    <div class="editor" contenteditable="true">
                        <table style="border-collapse: collapse; width: 100%; border-width: 1px;" border="1">
                            <tbody>
                                <tr>
                                    <td style="width: 50%; text-align: center;">No</td>
                                    <td style="width: 50%; text-align: center;">Name</td>
                                </tr>
                            </tbody>
                        </table>
                        <p>{ forloop_table field }</p>
                        <table style="border-collapse: collapse; width: 100%; border-width: 1px;" border="1">
                            <tbody>
                                <tr>
                                    <td style="width: 50%; text-align: center;">field_no</td>
                                    <td style="width: 50%; text-align: center;">field_name</td>
                                </tr>
                            </tbody>
                        </table>
                        <p>{ endfor }</p>
                        <p>djksjdks</p>
                        <p>djksjdksd</p>
                    </div>
                </div> -->